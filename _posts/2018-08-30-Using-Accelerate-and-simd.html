---
layout: post
title:  "Using Accelerate and simd"
subtitle: "WWDC 2018"
date:   2018-08-30 20:23:33 -0000
background: '/img/posts/wwdc18.png'
---




<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Using Accelerate and simd</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Using Accelerate and simd</h1>
</header>
<section data-field="subtitle" class="p-summary">
WWDC 2018
</section>
<section data-field="body" class="e-content">
<section name="6135" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="5343" id="5343" class="graf graf--h3 graf--leading graf--title">Using Accelerate and simd</h3><h4 name="d562" id="d562" class="graf graf--h4 graf-after--h3 graf--subtitle"><a href="https://developer.apple.com/videos/play/wwdc2018/701/" data-href="https://developer.apple.com/videos/play/wwdc2018/701/" class="markup--anchor markup--h4-anchor" rel="noopener" target="_blank">WWDC 2018</a></h4><h3 name="9412" id="9412" class="graf graf--h3 graf-after--h4">Composition of Accelerate Framework</h3><ul class="postList"><li name="1dc7" id="1dc7" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">vDSP</strong> — Signal processing</li><li name="e0bd" id="e0bd" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">vImage</strong> — Image processing</li><li name="47ca" id="47ca" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">vForce</strong> — Vector transcendental functions</li><li name="a7a6" id="a7a6" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">BLAS</strong>, <strong class="markup--strong markup--li-strong">LAPACK</strong>, <strong class="markup--strong markup--li-strong">LinearAlgebra</strong> — Dense matrix computations</li><li name="9cfc" id="9cfc" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Sparse</strong> <strong class="markup--strong markup--li-strong">BLAS</strong>, <strong class="markup--strong markup--li-strong">Sparse</strong> <strong class="markup--strong markup--li-strong">Solvers</strong> — Sparse matrix computations</li><li name="bb44" id="bb44" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">BNNS</strong>-Neural networks</li></ul><h3 name="6019" id="6019" class="graf graf--h3 graf-after--li">Closely Related</h3><ul class="postList"><li name="a04d" id="a04d" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">simd</strong> — Small vector and matrix computation for CPU</li><li name="d609" id="d609" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Compression</strong> — Lossless data compression</li></ul><h3 name="2d92" id="2d92" class="graf graf--h3 graf-after--li">Signal Processing Library</h3><ul class="postList"><li name="f8da" id="f8da" class="graf graf--li graf-after--h3">Basic operations on arrays<br>- Add, subtract, multiply, conversion, etc.</li><li name="24e0" id="24e0" class="graf graf--li graf-after--li">Discrete Fourier/Cosine Transform<br>- 1D DFT/ DCT/ FFT<br>- 2D FFT</li><li name="d7a6" id="d7a6" class="graf graf--li graf-after--li">Convolution and correlation</li></ul><h3 name="37ad" id="37ad" class="graf graf--h3 graf-after--li">Demo</h3><p name="a567" id="a567" class="graf graf--p graf-after--h3"><a href="https://developer.apple.com/documentation/accelerate/vdsp/discrete_fourier_transforms/signal_extraction_from_noise" data-href="https://developer.apple.com/documentation/accelerate/vdsp/discrete_fourier_transforms/signal_extraction_from_noise" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">Signal Extraction from Noise Link</strong></a></p><h4 name="7847" id="7847" class="graf graf--h4 graf-after--p">Essential Computations</h4><ul class="postList"><li name="8f56" id="8f56" class="graf graf--li graf-after--h4">Analyze noisy signal with forward DCT</li><li name="d029" id="d029" class="graf graf--li graf-after--li">Remove frequency components of amplitude less than threshold</li><li name="e217" id="e217" class="graf graf--li graf-after--li">Reconstruct clean signal with inverse DCT</li></ul><figure name="9a3c" id="9a3c" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 1033px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 147.6%;"></div><img class="graf-image" data-image-id="1*epSjqMrJ7Q2psxptHPsT3Q.png" data-width="3304" data-height="4878" src="https://cdn-images-1.medium.com/max/800/1*epSjqMrJ7Q2psxptHPsT3Q.png"></div></figure><figure name="31a6" id="31a6" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 525px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 75%;"></div><img class="graf-image" data-image-id="1*IjAExA8oADKPHfatf8_yag.gif" data-width="960" data-height="720" src="https://cdn-images-1.medium.com/max/800/1*IjAExA8oADKPHfatf8_yag.gif"></div></figure><h3 name="ede9" id="ede9" class="graf graf--h3 graf-after--figure">Demo</h3><p name="0613" id="0613" class="graf graf--p graf-after--h3"><a href="https://developer.apple.com/documentation/accelerate/vdsp/fast_fourier_transforms/halftone_descreening_with_2d_fast_fourier_transform" data-href="https://developer.apple.com/documentation/accelerate/vdsp/fast_fourier_transforms/halftone_descreening_with_2d_fast_fourier_transform" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">Halftone Descreening with 2D Fast Fourier Transform</strong></a></p><h4 name="32f2" id="32f2" class="graf graf--h4 graf-after--p">Essential Computations</h4><ul class="postList"><li name="0462" id="0462" class="graf graf--li graf-after--h4">Transform halftone image with 2D FFT</li><li name="a98d" id="a98d" class="graf graf--li graf-after--li">Remove frequency components of the halftone screen</li><li name="5471" id="5471" class="graf graf--li graf-after--li">Reconstruct continuous tone image</li></ul><figure name="3028" id="3028" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 574px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 82%;"></div><img class="graf-image" data-image-id="1*wZ7MeOsZMW8SEkW0m5H64Q.png" data-width="3304" data-height="2710" src="https://cdn-images-1.medium.com/max/800/1*wZ7MeOsZMW8SEkW0m5H64Q.png"></div></figure><h3 name="ca96" id="ca96" class="graf graf--h3 graf-after--figure">Frequency Removal</h3><ul class="postList"><li name="0751" id="0751" class="graf graf--li graf-after--h3">zvmags</li><li name="8fa1" id="8fa1" class="graf graf--li graf-after--li">vthrsc</li><li name="80ff" id="80ff" class="graf graf--li graf-after--li">vclip</li><li name="dadf" id="dadf" class="graf graf--li graf-after--li">zrvmul</li></ul><figure name="20da" id="20da" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 280px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40%;"></div><img class="graf-image" data-image-id="1*vQC2peeBWspZ_A6KG37pvw.png" data-width="3828" data-height="1532" src="https://cdn-images-1.medium.com/max/800/1*vQC2peeBWspZ_A6KG37pvw.png"></div></figure><figure name="d081" id="d081" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 640px; max-height: 480px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 75%;"></div><img class="graf-image" data-image-id="1*JiZy875etPalpEb1yerjpQ.gif" data-width="640" data-height="480" src="https://cdn-images-1.medium.com/max/800/1*JiZy875etPalpEb1yerjpQ.gif"></div></figure><h3 name="16e3" id="16e3" class="graf graf--h3 graf-after--figure">The simd Module</h3><ul class="postList"><li name="73ac" id="73ac" class="graf graf--li graf-after--h3">Simplified vector programming</li><li name="e3b4" id="e3b4" class="graf graf--li graf-after--li">Small (fixed-size) vector and matrices</li><li name="28b0" id="28b0" class="graf graf--li graf-after--li">Abstract architecture-specific types and intrinsics</li></ul><figure name="59c3" id="59c3" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 674px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 96.3%;"></div><img class="graf-image" data-image-id="1*X815Sl0fv79saImj8L4G3Q.png" data-width="2423" data-height="2334" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*X815Sl0fv79saImj8L4G3Q.png"></div></figure><h3 name="73b2" id="73b2" class="graf graf--h3 graf-after--figure">simd</h3><ul class="postList"><li name="8d2b" id="8d2b" class="graf graf--li graf-after--h3">Matrices of size 2, 3, or 4 and vector of 2, 3, 4, 8, 16, 32, or 64</li><li name="9884" id="9884" class="graf graf--li graf-after--li">Arithmetic operators (+,-, *, /) work with both vectors and scalras</li><li name="b0fe" id="b0fe" class="graf graf--li graf-after--li">Supports common vector math and geometry operations (dot, length, clamp)</li><li name="ae28" id="ae28" class="graf graf--li graf-after--li">Quaternions</li></ul><figure name="4497" id="4497" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 295px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 42.199999999999996%;"></div><img class="graf-image" data-image-id="1*HYZB_zfN6j4OwXGrHX1V_A.gif" data-width="1280" data-height="540" src="https://cdn-images-1.medium.com/max/800/1*HYZB_zfN6j4OwXGrHX1V_A.gif"></div></figure><figure name="8529" id="8529" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 394px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.3%;"></div><img class="graf-image" data-image-id="1*evT8X-br2Pk3zs_w8cwjwA.gif" data-width="1280" data-height="720" src="https://cdn-images-1.medium.com/max/800/1*evT8X-br2Pk3zs_w8cwjwA.gif"></div></figure><figure name="2844" id="2844" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 375px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 53.6%;"></div><img class="graf-image" data-image-id="1*uKq88KaEhjp64EIokqRvYQ.gif" data-width="1214" data-height="651" src="https://cdn-images-1.medium.com/max/800/1*uKq88KaEhjp64EIokqRvYQ.gif"></div></figure><figure name="eef4" id="eef4" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 350px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50%;"></div><img class="graf-image" data-image-id="1*8B--muWQHTOhKicSv0xYJg.gif" data-width="1221" data-height="611" src="https://cdn-images-1.medium.com/max/800/1*8B--muWQHTOhKicSv0xYJg.gif"></div></figure><p name="f1d7" id="f1d7" class="graf graf--p graf-after--figure"><a href="https://developer.apple.com/documentation/accelerate/simd/rotating_a_cube_by_transforming_its_vertices" data-href="https://developer.apple.com/documentation/accelerate/simd/rotating_a_cube_by_transforming_its_vertices" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">Rotating a Cube by Transforming Its Vertices Link</strong></a></p><figure name="b4f5" id="b4f5" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 323px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46.1%;"></div><img class="graf-image" data-image-id="1*mhxH4ctn0gfNz3Azqd1Tfg.gif" data-width="1181" data-height="545" src="https://cdn-images-1.medium.com/max/800/1*mhxH4ctn0gfNz3Azqd1Tfg.gif"></div></figure><h3 name="6275" id="6275" class="graf graf--h3 graf-after--figure">vImages</h3><p name="3dd6" id="3dd6" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">Image Processing Library</strong></p><ul class="postList"><li name="bb1e" id="bb1e" class="graf graf--li graf-after--p">Conversion</li><li name="2c24" id="2c24" class="graf graf--li graf-after--li">Geometry</li><li name="522f" id="522f" class="graf graf--li graf-after--li">Convolution</li><li name="1da4" id="1da4" class="graf graf--li graf-after--li">Transform</li><li name="e45e" id="e45e" class="graf graf--li graf-after--li">Morphology</li></ul><figure name="24ca" id="24ca" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 386px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 55.1%;"></div><img class="graf-image" data-image-id="1*ZFAlu_UK41qv-wkzCPddEg.gif" data-width="789" data-height="435" src="https://cdn-images-1.medium.com/max/800/1*ZFAlu_UK41qv-wkzCPddEg.gif"></div></figure><h3 name="277b" id="277b" class="graf graf--h3 graf-after--figure">Adjust Color Saturation</h3><ul class="postList"><li name="98da" id="98da" class="graf graf--li graf-after--h3">The formula to adjust color saturation is<br><strong class="markup--strong markup--li-strong">Cb = ((Cb -128) * saturation) + 128<br>Cr = ((Cr -128) * saturation) + 128</strong></li></ul><figure name="5c0d" id="5c0d" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 457px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 65.2%;"></div><img class="graf-image" data-image-id="1*I8_8cRLvW2f54BkzceiIbA.png" data-width="2226" data-height="1452" src="https://cdn-images-1.medium.com/max/800/1*I8_8cRLvW2f54BkzceiIbA.png"></div></figure><h3 name="cb58" id="cb58" class="graf graf--h3 graf-after--figure">Workflow</h3><figure name="1160" id="1160" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 1526px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 218.1%;"></div><img class="graf-image" data-image-id="1*5s3IxR4q2_4-wtPOXQcMug.png" data-width="3304" data-height="7205" src="https://cdn-images-1.medium.com/max/800/1*5s3IxR4q2_4-wtPOXQcMug.png"></div></figure><h3 name="4e5b" id="4e5b" class="graf graf--h3 graf-after--figure">More video effects</h3><ul class="postList"><li name="821d" id="821d" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">Rotation</strong></li></ul><figure name="eddf" id="eddf" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 124px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 17.7%;"></div><img class="graf-image" data-image-id="1*qZVBCd0tpPgOtSsuT6SJFw.png" data-width="2898" data-height="514" src="https://cdn-images-1.medium.com/max/800/1*qZVBCd0tpPgOtSsuT6SJFw.png"></div></figure><ul class="postList"><li name="77b4" id="77b4" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Blur</strong></li></ul><figure name="ebd7" id="ebd7" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 135px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 19.3%;"></div><img class="graf-image" data-image-id="1*9Z2UUvslTfcgVy3wejoMnA.png" data-width="2712" data-height="524" src="https://cdn-images-1.medium.com/max/800/1*9Z2UUvslTfcgVy3wejoMnA.png"></div></figure><ul class="postList"><li name="c634" id="c634" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Dither</strong></li></ul><figure name="7b90" id="7b90" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 235px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 33.5%;"></div><img class="graf-image" data-image-id="1*WRfPi1tSRM05wed8A9ypQg.png" data-width="2356" data-height="790" src="https://cdn-images-1.medium.com/max/800/1*WRfPi1tSRM05wed8A9ypQg.png"></div></figure><ul class="postList"><li name="0385" id="0385" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Color quantization</strong></li></ul><figure name="3e19" id="3e19" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 259px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 37%;"></div><img class="graf-image" data-image-id="1*LafxmbN_CHUKOddCLLBqKA.png" data-width="2776" data-height="1026" src="https://cdn-images-1.medium.com/max/800/1*LafxmbN_CHUKOddCLLBqKA.png"></div></figure><h3 name="d444" id="d444" class="graf graf--h3 graf-after--figure">LINPACK Benchmark</h3><ul class="postList"><li name="5af3" id="5af3" class="graf graf--li graf-after--h3">How fast can you solve a system of equations?</li><li name="7e08" id="7e08" class="graf graf--li graf-after--li">Actually 3 separate benchmarks<br>- 100 x 100 system<br>- 1000 x 1000 system<br>- <strong class="markup--strong markup--li-strong">No hold barred</strong></li></ul><figure name="69fe" id="69fe" class="graf graf--figure graf-after--li graf--trailing"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 320px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 45.7%;"></div><img class="graf-image" data-image-id="1*YDRIisiaP8dypixuxs38TQ.png" data-width="4638" data-height="2120" src="https://cdn-images-1.medium.com/max/800/1*YDRIisiaP8dypixuxs38TQ.png"></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Performance in GFLOPS (bigger is better)</strong></figcaption></figure></div></div></section>
</section>