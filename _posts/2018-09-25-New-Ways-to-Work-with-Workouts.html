---
layout: post
title:  "New Ways to Work with Workouts"
subtitle: "WWDC 2018"
date:   2018-09-25 10:39:29 -0000
background: '/img/posts/wwdc18.png'
---




<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>New Ways to Work with Workouts</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">New Ways to Work with Workouts</h1>
</header>
<section data-field="subtitle" class="p-summary">
WWDC 2018
</section>
<section data-field="body" class="e-content">
<section name="aa44" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="2f8b" id="2f8b" class="graf graf--h3 graf--leading graf--title">New Ways to Work with¬†Workouts</h3><h4 name="4eda" id="4eda" class="graf graf--h4 graf-after--h3 graf--subtitle"><a href="https://developer.apple.com/videos/play/wwdc2018/707/" data-href="https://developer.apple.com/videos/play/wwdc2018/707/" class="markup--anchor markup--h4-anchor" rel="noopener" target="_blank">WWDC 2018</a></h4><h3 name="e7b6" id="e7b6" class="graf graf--h3 graf-after--h4">Privacy and Authorization</h3><ul class="postList"><li name="f1c4" id="f1c4" class="graf graf--li graf-after--h3">Proportional Collection</li><li name="bd4f" id="bd4f" class="graf graf--li graf-after--li">HealthKit authorization can change</li><li name="104e" id="104e" class="graf graf--li graf-after--li">Ask for ‚ö†Ô∏è<br>- Only what you need<br>- Only when you need it<br>- <strong class="markup--strong markup--li-strong">Every time you need it</strong></li></ul><figure name="27d7" id="27d7" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 250px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 35.699999999999996%;"></div><img class="graf-image" data-image-id="1*Ul7kArBDz36P6IVrsRyJTQ.png" data-width="3018" data-height="1078" src="https://cdn-images-1.medium.com/max/800/1*Ul7kArBDz36P6IVrsRyJTQ.png"></div></figure><h3 name="d44e" id="d44e" class="graf graf--h3 graf-after--figure">Workout App Lifecycle</h3><figure name="80f4" id="80f4" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 324px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46.300000000000004%;"></div><img class="graf-image" data-image-id="1*hCUPkLI8OZKCUuj88AHiuw.png" data-width="3068" data-height="1420" src="https://cdn-images-1.medium.com/max/800/1*hCUPkLI8OZKCUuj88AHiuw.png"></div></figure><h3 name="aa98" id="aa98" class="graf graf--h3 graf-after--figure">HKWorkoutSession ( watchOS¬†)</h3><ul class="postList"><li name="cf89" id="cf89" class="graf graf--li graf-after--h3">Prepares sensors for data collection</li><li name="d8d5" id="d8d5" class="graf graf--li graf-after--li">Allows background running</li><li name="47f1" id="47f1" class="graf graf--li graf-after--li">Controls workout state</li><li name="cc56" id="cc56" class="graf graf--li graf-after--li">Generates events</li><li name="c2d6" id="c2d6" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Collect data generated by the device ( new )</strong></li><li name="c65c" id="c65c" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Save a workout ( new )</strong></li></ul><h3 name="f99a" id="f99a" class="graf graf--h3 graf-after--li">HKWorkoutBuilder ( new¬†)</h3><ul class="postList"><li name="34de" id="34de" class="graf graf--li graf-after--h3">Creates and saves an HKWorkout</li><li name="6816" id="6816" class="graf graf--li graf-after--li">Add samples, events, and metadata</li></ul><h3 name="074b" id="074b" class="graf graf--h3 graf-after--li">HKLiveWorkoutBuilder ( new¬†)</h3><p name="2124" id="2124" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">watchOS only</strong></p><ul class="postList"><li name="7c64" id="7c64" class="graf graf--li graf-after--p">Subclass of HKWorkoutBuilder</li><li name="b93c" id="b93c" class="graf graf--li graf-after--li">Automatic sample and event collection</li></ul><h3 name="8476" id="8476" class="graf graf--h3 graf-after--li">Setup and Start ( new¬†)</h3><ul class="postList"><li name="93f4" id="93f4" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">HKWorkoutBuilder</strong></li></ul><figure name="e606" id="e606" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 191px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 27.3%;"></div><img class="graf-image" data-image-id="1*WeQL4zFijWGkPilJT8wBXQ.png" data-width="2550" data-height="696" src="https://cdn-images-1.medium.com/max/800/1*WeQL4zFijWGkPilJT8wBXQ.png"></div></figure><ul class="postList"><li name="ca0d" id="ca0d" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">HKLiveWorkoutBuilder ( watchOS )</strong></li></ul><figure name="6b78" id="6b78" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 317px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 45.300000000000004%;"></div><img class="graf-image" data-image-id="1*yf9Hkjt6IAK3_H74Vs5-cA.png" data-width="2610" data-height="1182" src="https://cdn-images-1.medium.com/max/800/1*yf9Hkjt6IAK3_H74Vs5-cA.png"></div></figure><h3 name="8f9f" id="8f9f" class="graf graf--h3 graf-after--figure">Collect Data ( new¬†)</h3><ul class="postList"><li name="0ad8" id="0ad8" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">Samples</strong></li></ul><figure name="0468" id="0468" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 218px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 31.1%;"></div><img class="graf-image" data-image-id="1*4PMFaZ3Bjwxx-BsoHWRckg.png" data-width="1606" data-height="500" src="https://cdn-images-1.medium.com/max/800/1*4PMFaZ3Bjwxx-BsoHWRckg.png"></div></figure><ul class="postList"><li name="9d1b" id="9d1b" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Events</strong></li></ul><figure name="63b6" id="63b6" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 173px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 24.7%;"></div><img class="graf-image" data-image-id="1*ENZ87vFTY0pA5mICuiYn9g.png" data-width="2028" data-height="500" src="https://cdn-images-1.medium.com/max/800/1*ENZ87vFTY0pA5mICuiYn9g.png"></div></figure><ul class="postList"><li name="f81d" id="f81d" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Metadata</strong></li></ul><figure name="e67d" id="e67d" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 196px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 27.900000000000002%;"></div><img class="graf-image" data-image-id="1*L9-zRTdxwYq7uZ520Iqm1g.png" data-width="1804" data-height="504" src="https://cdn-images-1.medium.com/max/800/1*L9-zRTdxwYq7uZ520Iqm1g.png"></div></figure><ul class="postList"><li name="65e3" id="65e3" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">HKLiveWorkoutDataSource ( watchOS )</strong><br>- <strong class="markup--strong markup--li-strong">Automatically</strong> collects data specific to the workout<br>- Data types to collect <strong class="markup--strong markup--li-strong">can be customized</strong></li></ul><figure name="1ee3" id="1ee3" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 272px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 38.9%;"></div><img class="graf-image" data-image-id="1*To_j2HfrEu_dEV2ZO26HMA.png" data-width="2858" data-height="1112" src="https://cdn-images-1.medium.com/max/800/1*To_j2HfrEu_dEV2ZO26HMA.png"></div></figure><h3 name="f2f2" id="f2f2" class="graf graf--h3 graf-after--figure">User Interface</h3><ul class="postList"><li name="986e" id="986e" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">Update displayed statistics</strong></li></ul><figure name="64d0" id="64d0" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 231px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 33%;"></div><img class="graf-image" data-image-id="1*-uXrxrY2KuQ1vypDAu6JPg.png" data-width="2680" data-height="884" src="https://cdn-images-1.medium.com/max/800/1*-uXrxrY2KuQ1vypDAu6JPg.png"></div></figure><ul class="postList"><li name="4c89" id="4c89" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">Track elapsed time</strong></li></ul><figure name="7ca8" id="7ca8" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 133px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 19%;"></div><img class="graf-image" data-image-id="1*KaWdhi326l68MVIf8mYGyw.png" data-width="2586" data-height="492" src="https://cdn-images-1.medium.com/max/800/1*KaWdhi326l68MVIf8mYGyw.png"></div></figure><h3 name="85c8" id="85c8" class="graf graf--h3 graf-after--figure">Control State</h3><p name="10dd" id="10dd" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">HKWorkoutSession (watchOS)</strong></p><figure name="44c5" id="44c5" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 226px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 32.300000000000004%;"></div><img class="graf-image" data-image-id="1*xIUMlU3c09xC_A-0VNF8sA.png" data-width="2930" data-height="946" src="https://cdn-images-1.medium.com/max/800/1*xIUMlU3c09xC_A-0VNF8sA.png"></div></figure><figure name="b0f7" id="b0f7" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 312px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 44.6%;"></div><img class="graf-image" data-image-id="1*OKAwg9m8wPq4awLL_Idt5Q.png" data-width="1274" data-height="568" src="https://cdn-images-1.medium.com/max/800/1*OKAwg9m8wPq4awLL_Idt5Q.png"></div></figure><h3 name="db2f" id="db2f" class="graf graf--h3 graf-after--figure">End a¬†Workout</h3><figure name="0106" id="0106" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 184px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 26.3%;"></div><img class="graf-image" data-image-id="1*DzlRaWOfS7zXcRh_oXP08w.png" data-width="2518" data-height="662" src="https://cdn-images-1.medium.com/max/800/1*DzlRaWOfS7zXcRh_oXP08w.png"></div></figure><h3 name="3e90" id="3e90" class="graf graf--h3 graf-after--figure">Save a¬†Workout</h3><figure name="9482" id="9482" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 164px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 23.400000000000002%;"></div><img class="graf-image" data-image-id="1*n9T61yh_D5qAk5ISxIkd3Q.png" data-width="1710" data-height="400" src="https://cdn-images-1.medium.com/max/800/1*n9T61yh_D5qAk5ISxIkd3Q.png"></div></figure><h3 name="bf2d" id="bf2d" class="graf graf--h3 graf-after--figure">Demo</h3><h4 name="fb94" id="fb94" class="graf graf--h4 graf-after--h3"><strong class="markup--strong markup--h4-strong">Step 1</strong></h4><ul class="postList"><li name="21ef" id="21ef" class="graf graf--li graf-after--h4">Set capabilities</li></ul><figure name="6fda" id="6fda" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 394px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.3%;"></div><img class="graf-image" data-image-id="1*JJk_P8Krnv1QcYLSxpbqtw.jpeg" data-width="1280" data-height="720" src="https://cdn-images-1.medium.com/max/800/1*JJk_P8Krnv1QcYLSxpbqtw.jpeg"></div><figcaption class="imageCaption">iOS</figcaption></figure><figure name="6327" id="6327" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 394px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.3%;"></div><img class="graf-image" data-image-id="1*uKYf3u9gFWD7cy9PCUuj4g.jpeg" data-width="1280" data-height="720" src="https://cdn-images-1.medium.com/max/800/1*uKYf3u9gFWD7cy9PCUuj4g.jpeg"></div><figcaption class="imageCaption">watchOS</figcaption></figure><h4 name="b2b2" id="b2b2" class="graf graf--h4 graf-after--figure">Step 2</h4><ul class="postList"><li name="6443" id="6443" class="graf graf--li graf-after--h4">Set Privacy‚Ää‚Äî‚ÄäHealth Share Usage Description</li><li name="d933" id="d933" class="graf graf--li graf-after--li">Set Privacy‚Ää‚Äî‚ÄäHealth Update Usage Description</li></ul><figure name="ad4b" id="ad4b" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 394px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.3%;"></div><img class="graf-image" data-image-id="1*dZe3fAtz5ilBtlpjMiIuyw.jpeg" data-width="1280" data-height="720" src="https://cdn-images-1.medium.com/max/800/1*dZe3fAtz5ilBtlpjMiIuyw.jpeg"></div></figure><h4 name="0ab9" id="0ab9" class="graf graf--h4 graf-after--figure">Step 3</h4><ul class="postList"><li name="0e43" id="0e43" class="graf graf--li graf-after--h4">Authorizations</li></ul><figure name="e5d3" id="e5d3" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 394px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.3%;"></div><img class="graf-image" data-image-id="1*WDvqgSdYXvqXYkE31lGj9w.jpeg" data-width="1280" data-height="720" src="https://cdn-images-1.medium.com/max/800/1*WDvqgSdYXvqXYkE31lGj9w.jpeg"></div></figure><figure name="eef1" id="eef1" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 548px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 78.3%;"></div><img class="graf-image" data-image-id="1*1b_pEjCYfaAC6aAQKOQADQ.gif" data-width="752" data-height="589" src="https://cdn-images-1.medium.com/max/800/1*1b_pEjCYfaAC6aAQKOQADQ.gif"></div></figure><h4 name="dbd6" id="dbd6" class="graf graf--h4 graf-after--figure">Step 4</h4><ul class="postList"><li name="ed21" id="ed21" class="graf graf--li graf-after--h4">Sessions</li></ul><figure name="bd13" id="bd13" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 1127px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 161.1%;"></div><img class="graf-image" data-image-id="1*O_bVGs_gdXPjQEUjxtLAJg.jpeg" data-width="1076" data-height="1733" src="https://cdn-images-1.medium.com/max/800/1*O_bVGs_gdXPjQEUjxtLAJg.jpeg"></div></figure><figure name="d966" id="d966" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 540px; max-height: 459px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 85%;"></div><img class="graf-image" data-image-id="1*9L37Jzur0mxtTK-fdJCDcg.gif" data-width="540" data-height="459" src="https://cdn-images-1.medium.com/max/800/1*9L37Jzur0mxtTK-fdJCDcg.gif"></div></figure><h3 name="43d2" id="43d2" class="graf graf--h3 graf-after--figure">Workout Recovery ( wathcOS ) ( new¬†)</h3><ul class="postList"><li name="2bf8" id="2bf8" class="graf graf--li graf-after--h3">App <strong class="markup--strong markup--li-strong">automatically</strong> relaunched if it crashes during a workout üëç</li><li name="7e27" id="7e27" class="graf graf--li graf-after--li">Session and builder restored in their previous state</li><li name="5be8" id="5be8" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Data source must be setup again</strong></li></ul><figure name="c79e" id="c79e" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 248px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 35.5%;"></div><img class="graf-image" data-image-id="1*BBgg1ywMbLF58EvsyfSx1A.png" data-width="2550" data-height="904" src="https://cdn-images-1.medium.com/max/800/1*BBgg1ywMbLF58EvsyfSx1A.png"></div></figure><h3 name="f34f" id="f34f" class="graf graf--h3 graf-after--figure">New Quantity Series¬†API</h3><figure name="291b" id="291b" class="graf graf--figure graf-after--h3 graf--trailing"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 391px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 55.900000000000006%;"></div><img class="graf-image" data-image-id="1*hERlPUlqYOP-oY3WE9xcGQ.png" data-width="3214" data-height="1796" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*hERlPUlqYOP-oY3WE9xcGQ.png"></div></figure></div></div></section><section name="b2e0" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="92ac" id="92ac" class="graf graf--h4 graf--leading"><strong class="markup--strong markup--h4-strong">Use cases</strong></h4><figure name="db23" id="db23" class="graf graf--figure graf-after--h4"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 363px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 51.800000000000004%;"></div><img class="graf-image" data-image-id="1*egIgpZOsws0G_ZUn7z1pZQ.png" data-width="2632" data-height="1364" src="https://cdn-images-1.medium.com/max/800/1*egIgpZOsws0G_ZUn7z1pZQ.png"></div></figure><h3 name="e58b" id="e58b" class="graf graf--h3 graf-after--figure">HKQuantitySeriesSampleQuery</h3><figure name="6c4c" id="6c4c" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 253px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 36.1%;"></div><img class="graf-image" data-image-id="1*7XaRWNhgu5IKzFM0saxkLw.png" data-width="2710" data-height="978" src="https://cdn-images-1.medium.com/max/800/1*7XaRWNhgu5IKzFM0saxkLw.png"></div></figure><h3 name="6672" id="6672" class="graf graf--h3 graf-after--figure">HKQuantitySeriesSampleBuilder</h3><figure name="54b7" id="54b7" class="graf graf--figure graf-after--h3 graf--trailing"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 286px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.9%;"></div><img class="graf-image" data-image-id="1*PoUYvE1XbAoMQSw8NGopCg.png" data-width="3044" data-height="1244" src="https://cdn-images-1.medium.com/max/800/1*PoUYvE1XbAoMQSw8NGopCg.png"></div></figure></div></div></section>
</section>