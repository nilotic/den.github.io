---
layout: post
title:  "What’s New in Core ML, Part 1"
subtitle: "WWDC 2018"
date:   2018-08-22 20:23:33 -0000
background: '/img/posts/wwdc18.png'
---




<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>What’s New in Core ML, Part 1</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">What’s New in Core ML, Part 1</h1>
</header>
<section data-field="subtitle" class="p-summary">
WWDC 2018
</section>
<section data-field="body" class="e-content">
<section name="656a" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="5ceb" id="5ceb" class="graf graf--h3 graf--leading graf--title">What’s New in Core ML, Part 1</h3><h4 name="5f7c" id="5f7c" class="graf graf--h4 graf-after--h3 graf--subtitle"><a href="https://developer.apple.com/videos/play/wwdc2018/708/" data-href="https://developer.apple.com/videos/play/wwdc2018/708/" class="markup--anchor markup--h4-anchor" rel="noopener" target="_blank">WWDC 2018</a></h4><h3 name="5c39" id="5c39" class="graf graf--h3 graf-after--h4">Simplified</h3><figure name="623e" id="623e" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 546px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 78%;"></div><img class="graf-image" data-image-id="1*xyZEiQv6w2Ez7vQKtopIzQ.png" data-width="2785" data-height="2171" src="https://cdn-images-1.medium.com/max/800/1*xyZEiQv6w2Ez7vQKtopIzQ.png"></div></figure><figure name="8fb1" id="8fb1" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 390px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 55.7%;"></div><img class="graf-image" data-image-id="1*DjEucue30nSsfug6HJoBmw.png" data-width="3342" data-height="1862" src="https://cdn-images-1.medium.com/max/800/1*DjEucue30nSsfug6HJoBmw.png"></div></figure><figure name="7422" id="7422" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 130px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 18.6%;"></div><img class="graf-image" data-image-id="1*JWu_EGulNwLgLki2R5z0dw.png" data-width="4360" data-height="810" src="https://cdn-images-1.medium.com/max/800/1*JWu_EGulNwLgLki2R5z0dw.png"></div></figure><h3 name="fc8b" id="fc8b" class="graf graf--h3 graf-after--figure">Integrated</h3><ul class="postList"><li name="7259" id="7259" class="graf graf--li graf-after--h3">Vision — <code class="markup--code markup--li-code"><strong class="markup--strong markup--li-strong">VNCoreMLRequest</strong></code></li><li name="9519" id="9519" class="graf graf--li graf-after--li">Natural Language — <code class="markup--code markup--li-code"><strong class="markup--strong markup--li-strong">NLModel</strong></code></li></ul><h3 name="c0e8" id="c0e8" class="graf graf--h3 graf-after--li">Models on Device</h3><figure name="dace" id="dace" class="graf graf--figure graf-after--h3 graf--trailing"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 289px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 41.199999999999996%;"></div><img class="graf-image" data-image-id="1*yLcKPijdTD158PkaDnGs5A.png" data-width="4100" data-height="1690" src="https://cdn-images-1.medium.com/max/800/1*yLcKPijdTD158PkaDnGs5A.png"></div></figure></div></div></section><section name="c1a0" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="b7cc" id="b7cc" class="graf graf--h4 graf--leading">Problem</h4></div><div class="section-inner sectionLayout--outsetColumn"><figure name="3ada" id="3ada" class="graf graf--figure graf--layoutOutsetCenter graf-after--h4"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1000px; max-height: 772px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 77.2%;"></div><img class="graf-image" data-image-id="1*F2AXUHE8358BjyKYxCHbTg.png" data-width="3194" data-height="2467" src="https://cdn-images-1.medium.com/max/1000/1*F2AXUHE8358BjyKYxCHbTg.png"></div></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="a834" id="a834" class="graf graf--h3 graf-after--figure">Reducing Model Size</h3><ul class="postList"><li name="35b9" id="35b9" class="graf graf--li graf-after--h3">Smaller bundle</li><li name="133d" id="133d" class="graf graf--li graf-after--li">Smaller/faster downloads</li><li name="c23c" id="c23c" class="graf graf--li graf-after--li">Reduced runtime memory usage</li></ul><h3 name="978d" id="978d" class="graf graf--h3 graf-after--li">Core ML App Size</h3></div><div class="section-inner sectionLayout--outsetColumn"><figure name="3feb" id="3feb" class="graf graf--figure graf--layoutOutsetCenter graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1000px; max-height: 239px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 23.9%;"></div><img class="graf-image" data-image-id="1*r6Wn18si-PI79qNh89z04w.png" data-width="4230" data-height="1010" src="https://cdn-images-1.medium.com/max/1000/1*r6Wn18si-PI79qNh89z04w.png"></div></figure><figure name="8bbf" id="8bbf" class="graf graf--figure graf--layoutOutsetCenter graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1000px; max-height: 1583px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 158.29999999999998%;"></div><img class="graf-image" data-image-id="1*UHcAkCxFuIXgG_TR9Nwv6Q.png" data-width="1054" data-height="1668" src="https://cdn-images-1.medium.com/max/1000/1*UHcAkCxFuIXgG_TR9Nwv6Q.png"></div></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="811d" id="811d" class="graf graf--h3 graf-after--figure">Resnet50</h3><p name="6bf2" id="6bf2" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">&lt; 8 bit quantization</strong></p><figure name="68f4" id="68f4" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 355px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.7%;"></div><img class="graf-image" data-image-id="1*srFBn7lKDo8Y6eLkEYe6Zw.png" data-width="3912" data-height="1982" src="https://cdn-images-1.medium.com/max/800/1*srFBn7lKDo8Y6eLkEYe6Zw.png"></div></figure><h3 name="14cc" id="14cc" class="graf graf--h3 graf-after--figure">Obtaining Quantized Models</h3><ul class="postList"><li name="d2f7" id="d2f7" class="graf graf--li graf-after--h3">Post-training quantization</li></ul><figure name="6b8d" id="6b8d" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 187px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 26.700000000000003%;"></div><img class="graf-image" data-image-id="1*vfYjCOT8VNcwjtdBrEWaiQ.png" data-width="1830" data-height="488" src="https://cdn-images-1.medium.com/max/800/1*vfYjCOT8VNcwjtdBrEWaiQ.png"></div></figure><ul class="postList"><li name="60bf" id="60bf" class="graf graf--li graf-after--figure">Train quantized<br>- From scratch or re-training<br>- Then convert quantized models to Core ML</li></ul><h3 name="b86c" id="b86c" class="graf graf--h3 graf-after--li">Accuracy Tradeoff</h3><p name="a0b1" id="a0b1" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">Check Your Quantized Model Accuracy<br></strong>with test data and metric relevant for your app</p><ul class="postList"><li name="2646" id="2646" class="graf graf--li graf-after--p">Model dependent</li><li name="a6d2" id="a6d2" class="graf graf--li graf-after--li">Use case dependent</li><li name="45be" id="45be" class="graf graf--li graf-after--li">Active area of research</li></ul><h3 name="8a76" id="8a76" class="graf graf--h3 graf-after--li">Demo</h3><p name="861a" id="861a" class="graf graf--p graf-after--h3"><a href="https://developer.apple.com/sample-code/wwdc/2017/ImageClassificationwithVisionandCoreML.zip" data-href="https://developer.apple.com/sample-code/wwdc/2017/ImageClassificationwithVisionandCoreML.zip" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">Sample Link</strong></a></p><figure name="1d61" id="1d61" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 334px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.8%;"></div><img class="graf-image" data-image-id="1*QCnbuWIK0m0tr-fWoHTONg.gif" data-width="720" data-height="344" src="https://cdn-images-1.medium.com/max/800/1*QCnbuWIK0m0tr-fWoHTONg.gif"></div></figure><figure name="8d0e" id="8d0e" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 291px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 41.5%;"></div><img class="graf-image" data-image-id="1*ScwpEaAy3yTBgkdAt8TT0Q.png" data-width="4098" data-height="1702" src="https://cdn-images-1.medium.com/max/800/1*ScwpEaAy3yTBgkdAt8TT0Q.png"></div></figure><figure name="5882" id="5882" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 270px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 38.6%;"></div><img class="graf-image" data-image-id="1*eRCVEN4tfwSnJPVXoGWtdA.png" data-width="3190" data-height="1230" src="https://cdn-images-1.medium.com/max/800/1*eRCVEN4tfwSnJPVXoGWtdA.png"></div></figure><h3 name="2025" id="2025" class="graf graf--h3 graf-after--figure">One Flexible Model</h3></div><div class="section-inner sectionLayout--outsetColumn"><figure name="b353" id="b353" class="graf graf--figure graf--layoutOutsetCenter graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1000px; max-height: 1794px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 179.4%;"></div><img class="graf-image" data-image-id="1*VYMIfwgwq8KQSqbmcsWeyA.png" data-width="1017" data-height="1825" src="https://cdn-images-1.medium.com/max/1000/1*VYMIfwgwq8KQSqbmcsWeyA.png"></div></figure></div><div class="section-inner sectionLayout--insetColumn"><h3 name="eda0" id="eda0" class="graf graf--h3 graf-after--figure">Combine Using Flexible Image Sizes</h3><ul class="postList"><li name="1fa7" id="1fa7" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">One model</strong></li><li name="b38c" id="b38c" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">No redundant code</strong></li><li name="be33" id="be33" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Faster model switching times</strong></li></ul><figure name="168b" id="168b" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 222px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 31.8%;"></div><img class="graf-image" data-image-id="1*aUCUWZm6T_5Iexa6kDFr2w.png" data-width="3738" data-height="1188" src="https://cdn-images-1.medium.com/max/800/1*aUCUWZm6T_5Iexa6kDFr2w.png"></div></figure><h3 name="e1c4" id="e1c4" class="graf graf--h3 graf-after--figure">Flexibility Options</h3><figure name="41e8" id="41e8" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 322px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 46%;"></div><img class="graf-image" data-image-id="1*QI1PXMb41Spz1cUz3mTQOw.png" data-width="3894" data-height="1790" src="https://cdn-images-1.medium.com/max/800/1*QI1PXMb41Spz1cUz3mTQOw.png"></div></figure><h3 name="fa88" id="fa88" class="graf graf--h3 graf-after--figure">Which Models are Flexible?</h3><p name="4c65" id="4c65" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Core ML Tools can check for you !</em></strong></p><ul class="postList"><li name="e0f4" id="e0f4" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Fully convolutional Neural Networks<br>- </strong>Image processing<br>- Object detection</li></ul><h3 name="2fba" id="2fba" class="graf graf--h3 graf-after--li">Performance and Customization</h3><figure name="731b" id="731b" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 297px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 42.4%;"></div><img class="graf-image" data-image-id="1*n-Mr_2mjl9VCDt1POiEHFg.gif" data-width="1180" data-height="500" src="https://cdn-images-1.medium.com/max/800/1*n-Mr_2mjl9VCDt1POiEHFg.gif"></div></figure><h3 name="2a07" id="2a07" class="graf graf--h3 graf-after--figure">For Loop vs Batch</h3><figure name="ae75" id="ae75" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 238px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 34%;"></div><img class="graf-image" data-image-id="1*m0H47Oi8OtfxHqlVmi9Xzg.png" data-width="4169" data-height="1416" src="https://cdn-images-1.medium.com/max/800/1*m0H47Oi8OtfxHqlVmi9Xzg.png"></div></figure><figure name="8034" id="8034" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 331px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.3%;"></div><img class="graf-image" data-image-id="1*1f9O5g1wrp4HTJ9GOUQ-ZQ.png" data-width="4488" data-height="2122" src="https://cdn-images-1.medium.com/max/800/1*1f9O5g1wrp4HTJ9GOUQ-ZQ.png"></div></figure><figure name="c86d" id="c86d" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 162px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 23.1%;"></div><img class="graf-image" data-image-id="1*N2GIUpvDMVDfzvF4AynR4w.png" data-width="4158" data-height="960" src="https://cdn-images-1.medium.com/max/800/1*N2GIUpvDMVDfzvF4AynR4w.png"></div></figure><figure name="474b" id="474b" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 394px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.3%;"></div><img class="graf-image" data-image-id="1*qOSFlGOHNhXamt1X-VJzGQ.gif" data-width="720" data-height="405" src="https://cdn-images-1.medium.com/max/800/1*qOSFlGOHNhXamt1X-VJzGQ.gif"></div></figure><h3 name="0d37" id="0d37" class="graf graf--h3 graf-after--figure">Any Horses?</h3><figure name="9e1c" id="9e1c" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 307px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 43.8%;"></div><img class="graf-image" data-image-id="1*ikfzO-B4MhKt90jfN2d5Tw.png" data-width="3194" data-height="1400" src="https://cdn-images-1.medium.com/max/800/1*ikfzO-B4MhKt90jfN2d5Tw.png"></div></figure><h3 name="b7dc" id="b7dc" class="graf graf--h3 graf-after--figure">Custom Layers</h3><figure name="8b55" id="8b55" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 426px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 60.9%;"></div><img class="graf-image" data-image-id="1*nAcV5om4M236_iy1NkOjiw.png" data-width="4179" data-height="2543" src="https://cdn-images-1.medium.com/max/800/1*nAcV5om4M236_iy1NkOjiw.png"></div></figure><figure name="1c52" id="1c52" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 217px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 31%;"></div><img class="graf-image" data-image-id="1*EsYNAQnyz5x_GdFfSMV9_A.png" data-width="4232" data-height="1312" src="https://cdn-images-1.medium.com/max/800/1*EsYNAQnyz5x_GdFfSMV9_A.png"></div></figure><figure name="d374" id="d374" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 134px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 19.2%;"></div><img class="graf-image" data-image-id="1*wD1qzW0Cg9hz33Kj87nXAg.png" data-width="3948" data-height="758" src="https://cdn-images-1.medium.com/max/800/1*wD1qzW0Cg9hz33Kj87nXAg.png"></div></figure><figure name="8d6e" id="8d6e" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 347px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 49.6%;"></div><img class="graf-image" data-image-id="1*h0tG1wpJUd7RZ0X1Qd2-PQ.png" data-width="3406" data-height="1690" src="https://cdn-images-1.medium.com/max/800/1*h0tG1wpJUd7RZ0X1Qd2-PQ.png"></div></figure><h3 name="f7c5" id="f7c5" class="graf graf--h3 graf-after--figure">Custom Models</h3><figure name="78a3" id="78a3" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 1143px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 163.3%;"></div><img class="graf-image" data-image-id="1*45iRne3bhqlx7c2LQG4OPw.png" data-width="883" data-height="1442" src="https://cdn-images-1.medium.com/max/800/1*45iRne3bhqlx7c2LQG4OPw.png"></div></figure><figure name="8df1" id="8df1" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 241px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 34.5%;"></div><img class="graf-image" data-image-id="1*BSK-vbUINazys-EeyUFjDA.png" data-width="4404" data-height="1518" src="https://cdn-images-1.medium.com/max/800/1*BSK-vbUINazys-EeyUFjDA.png"></div></figure><h3 name="0e67" id="0e67" class="graf graf--h3 graf-after--figure">Customization in Xcode</h3><figure name="852b" id="852b" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 359px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 51.2%;"></div><img class="graf-image" data-image-id="1*4OnZ7IFCfh71QMxprYbQsQ.png" data-width="3786" data-height="1940" src="https://cdn-images-1.medium.com/max/800/1*4OnZ7IFCfh71QMxprYbQsQ.png"></div></figure><h3 name="7fa9" id="7fa9" class="graf graf--h3 graf-after--figure">Customization</h3><figure name="ad4e" id="ad4e" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 213px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 30.5%;"></div><img class="graf-image" data-image-id="1*5yBZkB5N4PKqU1NwihBsDA.png" data-width="3938" data-height="1200" src="https://cdn-images-1.medium.com/max/800/1*5yBZkB5N4PKqU1NwihBsDA.png"></div><figcaption class="imageCaption">Options</figcaption></figure><figure name="033a" id="033a" class="graf graf--figure graf-after--figure graf--trailing"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 273px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 39%;"></div><img class="graf-image" data-image-id="1*WBzqqBS2PXi6py7W1qmRSw.png" data-width="3360" data-height="1310" src="https://cdn-images-1.medium.com/max/800/1*WBzqqBS2PXi6py7W1qmRSw.png"></div><figcaption class="imageCaption">Summary</figcaption></figure></div></div></section>
</section>