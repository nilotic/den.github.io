---
layout: post
title:  "Metal for Ray Tracing Acceleration"
subtitle: "WWDC 2018"
date:   2018-08-14 20:23:33 -0000
background: '/img/posts/wwdc18.png'
---




<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Metal for Ray Tracing Acceleration</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Metal for Ray Tracing Acceleration</h1>
</header>
<section data-field="subtitle" class="p-summary">
WWDC 2018
</section>
<section data-field="body" class="e-content">
<section name="021e" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="5551" id="5551" class="graf graf--h3 graf--leading graf--title">Metal for Ray Tracing Acceleration</h3><h4 name="0052" id="0052" class="graf graf--h4 graf-after--h3 graf--subtitle"><a href="https://developer.apple.com/videos/play/wwdc2018/606/" data-href="https://developer.apple.com/videos/play/wwdc2018/606/" class="markup--anchor markup--h4-anchor" rel="noopener" target="_blank">WWDC 2018</a></h4><h3 name="a7c0" id="a7c0" class="graf graf--h3 graf-after--h4">Metal performance Shaders</h3><p name="2018" id="2018" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">GPUâ€Šâ€”â€Šaccelerated primitives, optimized for iOS and macOS</strong></p><ul class="postList"><li name="c635" id="c635" class="graf graf--li graf-after--p">Image processing</li><li name="57af" id="57af" class="graf graf--li graf-after--li">Linear algebra</li><li name="a7fb" id="a7fb" class="graf graf--li graf-after--li">Machine learning- inference and <strong class="markup--strong markup--li-strong">training (new)</strong></li><li name="1121" id="1121" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Ray tracing (new)</strong></li></ul><h3 name="adeb" id="adeb" class="graf graf--h3 graf-after--li">Ray Tracing</h3><p name="7774" id="7774" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">Tracing a rayâ€™s path as it interacts with a scene</strong></p><ul class="postList"><li name="9a61" id="9a61" class="graf graf--li graf-after--p">Rendering</li><li name="3f42" id="3f42" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Audio</strong> and physics simulation</li><li name="6146" id="6146" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Collision detection</strong></li><li name="ff07" id="ff07" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">AI</strong> and pathfinding</li><li name="3dc2" id="3dc2" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Ambient occlusion, refraction, area lights, depth of field, motion blur</strong></li><li name="847d" id="847d" class="graf graf--li graf-after--li">Method of choice for photorealistic, offline rendering</li><li name="feb3" id="feb3" class="graf graf--li graf-after--li">Significantly more computationally expensiveâ€Šâ€”â€Šdoing more work to simulate physical effects</li></ul><figure name="fdca" id="fdca" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 691px; max-height: 466px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 67.4%;"></div><img class="graf-image" data-image-id="1*4U3Ok6ZRrmZHIpT5uOCnyQ.gif" data-width="691" data-height="466" src="https://cdn-images-1.medium.com/max/800/1*4U3Ok6ZRrmZHIpT5uOCnyQ.gif"></div></figure><h3 name="4c3d" id="4c3d" class="graf graf--h3 graf-after--figure">Rasterization</h3><ul class="postList"><li name="8774" id="8774" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">Projects triangles</strong> onto the screen <strong class="markup--strong markup--li-strong">one at a time</strong></li><li name="234e" id="234e" class="graf graf--li graf-after--li">Fast-method of choice for games and real-time applications</li><li name="da6c" id="da6c" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">Difficult to model behavior of light</strong></li></ul><h3 name="80eb" id="80eb" class="graf graf--h3 graf-after--li">Reflections</h3><ul class="postList"><li name="8f7e" id="8f7e" class="graf graf--li graf-after--h3"><strong class="markup--strong markup--li-strong">Can be computed accurately with ray tracing</strong></li></ul><figure name="9620" id="9620" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 461px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 65.9%;"></div><img class="graf-image" data-image-id="1*CTv5Ce4HtkDVb4FNkMoWzA.png" data-width="2328" data-height="1534" src="https://cdn-images-1.medium.com/max/800/1*CTv5Ce4HtkDVb4FNkMoWzA.png"></div></figure><h3 name="c89b" id="c89b" class="graf graf--h3 graf-after--figure">Soft shadows</h3><ul class="postList"><li name="a8d3" id="a8d3" class="graf graf--li graf-after--h3">Can be computed directly with ray tracing</li><li name="4ac2" id="4ac2" class="graf graf--li graf-after--li">Realistic transition from hard to soft shadows</li></ul><figure name="7193" id="7193" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 422px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 60.199999999999996%;"></div><img class="graf-image" data-image-id="1*BJkmOv4910-yybj5QhW79A.png" data-width="2554" data-height="1538" src="https://cdn-images-1.medium.com/max/800/1*BJkmOv4910-yybj5QhW79A.png"></div></figure><h3 name="5117" id="5117" class="graf graf--h3 graf-after--figure">Global illumination</h3><ul class="postList"><li name="8aaa" id="8aaa" class="graf graf--li graf-after--h3">Naturally modeled with ray tracing</li></ul><figure name="2da7" id="2da7" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 468px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 66.8%;"></div><img class="graf-image" data-image-id="1*gJw4CZur4qa7HPvYrj1Wfw.png" data-width="2290" data-height="1530" src="https://cdn-images-1.medium.com/max/800/1*gJw4CZur4qa7HPvYrj1Wfw.png"></div></figure><h3 name="ef69" id="ef69" class="graf graf--h3 graf-after--figure">Rendering with RayÂ Tracing</h3><figure name="ee22" id="ee22" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 261px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 37.2%;"></div><img class="graf-image" data-image-id="1*VrxqCcFX1WNTIh-d0DtfeA.gif" data-width="900" data-height="335" src="https://cdn-images-1.medium.com/max/800/1*VrxqCcFX1WNTIh-d0DtfeA.gif"></div></figure><figure name="7dbb" id="7dbb" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 212px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 30.2%;"></div><img class="graf-image" data-image-id="1*rTTOoL5m8Er_R0AlpAhWtg.gif" data-width="999" data-height="302" src="https://cdn-images-1.medium.com/max/800/1*rTTOoL5m8Er_R0AlpAhWtg.gif"></div></figure><h3 name="59ec" id="59ec" class="graf graf--h3 graf-after--figure">MPSRayIntersector</h3><ul class="postList"><li name="5fda" id="5fda" class="graf graf--li graf-after--h3">Ray <strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">intersector</em></strong> accelerates ray/triangle intersection tests on the GPU</li><li name="3981" id="3981" class="graf graf--li graf-after--li">Accepts batches of rays in a Metal buffer</li><li name="47a7" id="47a7" class="graf graf--li graf-after--li">Returns one intersection per ray</li><li name="17a7" id="17a7" class="graf graf--li graf-after--li">Encodes into a Metal command buffer</li></ul><figure name="f6d4" id="f6d4" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 398px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.8%;"></div><img class="graf-image" data-image-id="1*z_DDUBSvx31Sc1JOPXvGvw.png" data-width="2090" data-height="1188" src="https://cdn-images-1.medium.com/max/800/1*z_DDUBSvx31Sc1JOPXvGvw.png"></div></figure><figure name="72c9" id="72c9" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 285px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.699999999999996%;"></div><img class="graf-image" data-image-id="1*PntlqlRU0dPyh4_rX0qnNg.gif" data-width="1225" data-height="499" src="https://cdn-images-1.medium.com/max/800/1*PntlqlRU0dPyh4_rX0qnNg.gif"></div></figure><h3 name="d449" id="d449" class="graf graf--h3 graf-after--figure">Accelerating Ray/Scene Intersection</h3><figure name="870d" id="870d" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 376px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 53.7%;"></div><img class="graf-image" data-image-id="1*fhAEwiN0-3Ypo9vggg4FBQ.gif" data-width="876" data-height="470" src="https://cdn-images-1.medium.com/max/800/1*fhAEwiN0-3Ypo9vggg4FBQ.gif"></div></figure><h3 name="20b4" id="20b4" class="graf graf--h3 graf-after--figure">Ray Tracing with Metal Performance Shaders</h3><figure name="9105" id="9105" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 277px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 39.6%;"></div><img class="graf-image" data-image-id="1*a2KnvNE7luDje6El-XTO8A.png" data-width="4582" data-height="1814" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*a2KnvNE7luDje6El-XTO8A.png"></div></figure><h3 name="0d83" id="0d83" class="graf graf--h3 graf-after--figure">Primary Rays andÂ Shading</h3><figure name="62f3" id="62f3" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 355px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.7%;"></div><img class="graf-image" data-image-id="1*2mTNIiiBesnuutpVwTEqsg.gif" data-width="1004" data-height="509" src="https://cdn-images-1.medium.com/max/800/1*2mTNIiiBesnuutpVwTEqsg.gif"></div></figure><h3 name="f8cc" id="f8cc" class="graf graf--h3 graf-after--figure">Creating an Intersector</h3><figure name="d27d" id="d27d" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 26px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 3.6999999999999997%;"></div><img class="graf-image" data-image-id="1*9lEtzFoktXddeSpdw-jooQ.png" data-width="4300" data-height="158" src="https://cdn-images-1.medium.com/max/800/1*9lEtzFoktXddeSpdw-jooQ.png"></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Create an MPSRayIntersector with a MetalÂ device</strong></figcaption></figure><h3 name="a019" id="a019" class="graf graf--h3 graf-after--figure">Creating an Acceleration Structure</h3><figure name="b5c7" id="b5c7" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 32px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 4.6%;"></div><img class="graf-image" data-image-id="1*JcvxTdLQZllphrGMMtoAcg.png" data-width="4656" data-height="212" src="https://cdn-images-1.medium.com/max/800/1*JcvxTdLQZllphrGMMtoAcg.png"></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Create an MPSTriangleAccelerationStructure with a MetalÂ devcie</strong></figcaption></figure><figure name="b1f0" id="b1f0" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 52px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 7.3999999999999995%;"></div><img class="graf-image" data-image-id="1*8qYIJi8G6mkedHYL_uXmSw.png" data-width="4666" data-height="344" src="https://cdn-images-1.medium.com/max/800/1*8qYIJi8G6mkedHYL_uXmSw.png"></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Assign vertexÂ buffer</strong></figcaption></figure><figure name="d649" id="d649" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 32px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 4.5%;"></div><img class="graf-image" data-image-id="1*d06cCWspA7EZ394MBhBlyg.png" data-width="4664" data-height="212" src="https://cdn-images-1.medium.com/max/800/1*d06cCWspA7EZ394MBhBlyg.png"></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Build acceleration structure</strong></figcaption></figure><h3 name="9bf2" id="9bf2" class="graf graf--h3 graf-after--figure">Generating PrimaryÂ Rays</h3><figure name="106f" id="106f" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 259px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 37%;"></div><img class="graf-image" data-image-id="1*thfuQKsGMUfO2ZiF8o2EZg.gif" data-width="1258" data-height="466" src="https://cdn-images-1.medium.com/max/800/1*thfuQKsGMUfO2ZiF8o2EZg.gif"></div></figure><h3 name="5464" id="5464" class="graf graf--h3 graf-after--figure">Finding Intersections with theÂ Scene</h3><figure name="f4d9" id="f4d9" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 166px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 23.799999999999997%;"></div><img class="graf-image" data-image-id="1*83quOpyjCmB70nVikx3phQ.png" data-width="4692" data-height="1116" src="https://cdn-images-1.medium.com/max/800/1*83quOpyjCmB70nVikx3phQ.png"></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Encode intersection test into a commandÂ buffer</strong></figcaption></figure><h3 name="fd0f" id="fd0f" class="graf graf--h3 graf-after--figure">Shading</h3><figure name="617a" id="617a" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 268px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 38.3%;"></div><img class="graf-image" data-image-id="1*aZ1O0UVGkwcj1qPH0HfByg.png" data-width="4636" data-height="1776" src="https://cdn-images-1.medium.com/max/800/1*aZ1O0UVGkwcj1qPH0HfByg.png"></div></figure><figure name="c578" id="c578" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 286px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.9%;"></div><img class="graf-image" data-image-id="1*gEamK5dnWtLV2UfIiKMO9Q.gif" data-width="1234" data-height="505" src="https://cdn-images-1.medium.com/max/800/1*gEamK5dnWtLV2UfIiKMO9Q.gif"></div></figure><h3 name="79ad" id="79ad" class="graf graf--h3 graf-after--figure">Shadow Rays</h3><figure name="76ee" id="76ee" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 269px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 38.4%;"></div><img class="graf-image" data-image-id="1*x3gSzqPr2KFS8qNAvwfcVA.png" data-width="4566" data-height="1754" src="https://cdn-images-1.medium.com/max/800/1*x3gSzqPr2KFS8qNAvwfcVA.png"></div></figure><figure name="b112" id="b112" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 311px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 44.5%;"></div><img class="graf-image" data-image-id="1*eDiUKuEoRpW0XtQ00uvB_g.gif" data-width="1263" data-height="562" src="https://cdn-images-1.medium.com/max/800/1*eDiUKuEoRpW0XtQ00uvB_g.gif"></div></figure><figure name="71ab" id="71ab" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 343px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 49%;"></div><img class="graf-image" data-image-id="1*MUWCryHBrw40VcWe9bIOig.gif" data-width="1014" data-height="497" src="https://cdn-images-1.medium.com/max/800/1*MUWCryHBrw40VcWe9bIOig.gif"></div></figure><h3 name="94c7" id="94c7" class="graf graf--h3 graf-after--figure">Shadow Rays vs PrimaryÂ Rays</h3><ul class="postList"><li name="6327" id="6327" class="graf graf--li graf-after--h3">Maximum intersection distance</li><li name="e9ec" id="e9ec" class="graf graf--li graf-after--li">Donâ€™t need triangle index or barycentric coordinates</li><li name="db5d" id="db5d" class="graf graf--li graf-after--li">Propagate color from shading kernel to final kernel</li></ul><figure name="3c25" id="3c25" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 695px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 99.3%;"></div><img class="graf-image" data-image-id="1*OkWXz0bUeidld-6KZH-pvw.png" data-width="1768" data-height="1756" src="https://cdn-images-1.medium.com/max/800/1*OkWXz0bUeidld-6KZH-pvw.png"></div></figure><h3 name="fed1" id="fed1" class="graf graf--h3 graf-after--figure">Customizing the RayÂ Struct</h3><ul class="postList"><li name="00cc" id="00cc" class="graf graf--li graf-after--h3">Ray type is configurable</li><li name="be31" id="be31" class="graf graf--li graf-after--li">Choose what data is provided to the intersector</li><li name="5e8e" id="5e8e" class="graf graf--li graf-after--li">Append appâ€Šâ€”â€Šspecific data</li></ul><figure name="54c2" id="54c2" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 359px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 51.300000000000004%;"></div><img class="graf-image" data-image-id="1*3J79J8b5GmrEBQrXS5PVeg.png" data-width="1866" data-height="958" src="https://cdn-images-1.medium.com/max/800/1*3J79J8b5GmrEBQrXS5PVeg.png"></div></figure><figure name="ef47" id="ef47" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 57px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 8.1%;"></div><img class="graf-image" data-image-id="1*18XRRfYH2v-hX2b1lq77Xw.png" data-width="4658" data-height="376" src="https://cdn-images-1.medium.com/max/800/1*18XRRfYH2v-hX2b1lq77Xw.png"></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Configure MPSRayIntersector for new Ray structÂ type</strong></figcaption></figure><h3 name="da7d" id="da7d" class="graf graf--h3 graf-after--figure">Finding Shadow Ray Intersections</h3><figure name="09b9" id="09b9" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 206px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 29.4%;"></div><img class="graf-image" data-image-id="1*iWxJzvKphM1v7X6blg8eYw.png" data-width="4696" data-height="1382" src="https://cdn-images-1.medium.com/max/800/1*iWxJzvKphM1v7X6blg8eYw.png"></div><figcaption class="imageCaption"><strong class="markup--strong markup--figure-strong">Modiry call to MPSRayIntersector</strong></figcaption></figure><h3 name="0733" id="0733" class="graf graf--h3 graf-after--figure">Adding Ray Color to theÂ Image</h3><figure name="ed6e" id="ed6e" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 281px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.2%;"></div><img class="graf-image" data-image-id="1*nBXVjthtxoNL7rrK4DgxRQ.png" data-width="4656" data-height="1872" src="https://cdn-images-1.medium.com/max/800/1*nBXVjthtxoNL7rrK4DgxRQ.png"></div></figure><h3 name="b884" id="b884" class="graf graf--h3 graf-after--figure">Secondary Rays</h3><figure name="0cd3" id="0cd3" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 276px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 39.5%;"></div><img class="graf-image" data-image-id="1*75-qrAgT4H1vcc-uwZ_gpQ.png" data-width="4588" data-height="1812" src="https://cdn-images-1.medium.com/max/800/1*75-qrAgT4H1vcc-uwZ_gpQ.png"></div></figure><figure name="2527" id="2527" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 305px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 43.6%;"></div><img class="graf-image" data-image-id="1*_aIRqnvhY-NaI7jaalHDjQ.gif" data-width="1198" data-height="522" src="https://cdn-images-1.medium.com/max/800/1*_aIRqnvhY-NaI7jaalHDjQ.gif"></div></figure><figure name="2eac" id="2eac" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 352px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.3%;"></div><img class="graf-image" data-image-id="1*lmsqqCuIu_FT4c2wGEqF7Q.gif" data-width="1089" data-height="548" src="https://cdn-images-1.medium.com/max/800/1*lmsqqCuIu_FT4c2wGEqF7Q.gif"></div></figure><h3 name="f6be" id="f6be" class="graf graf--h3 graf-after--figure">Updating Secondary Rays</h3><figure name="1968" id="1968" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 259px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 36.9%;"></div><img class="graf-image" data-image-id="1*XgeVsVcMX8irQD1TtGQ5KQ.gif" data-width="1256" data-height="464" src="https://cdn-images-1.medium.com/max/800/1*XgeVsVcMX8irQD1TtGQ5KQ.gif"></div></figure><h3 name="038a" id="038a" class="graf graf--h3 graf-after--figure">Demo</h3><ul class="postList"><li name="a431" id="a431" class="graf graf--li graf-after--h3"><a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing" data-href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Sample</a></li></ul><h3 name="5838" id="5838" class="graf graf--h3 graf-after--li">Multi-GPU RayÂ Tracing</h3><ul class="postList"><li name="fe14" id="fe14" class="graf graf--li graf-after--h3">Split work across GPUs</li><li name="194d" id="194d" class="graf graf--li graf-after--li">Copy data between GPUs</li><li name="fba7" id="fba7" class="graf graf--li graf-after--li">Synchronize execution</li></ul><h3 name="2685" id="2685" class="graf graf--h3 graf-after--li">Splitting Work AcrossÂ GPUs</h3><figure name="de50" id="de50" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 241px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 34.4%;"></div><img class="graf-image" data-image-id="1*nIYB85ZzxnciwVQnyBW3uA.png" data-width="4020" data-height="1384" src="https://cdn-images-1.medium.com/max/800/1*nIYB85ZzxnciwVQnyBW3uA.png"></div></figure><h3 name="b1d2" id="b1d2" class="graf graf--h3 graf-after--figure">Copying SceneÂ Data</h3><figure name="1b79" id="1b79" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 275px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 39.300000000000004%;"></div><img class="graf-image" data-image-id="1*WuD16gYlze0eC5QxiiASlg.gif" data-width="1280" data-height="503" src="https://cdn-images-1.medium.com/max/800/1*WuD16gYlze0eC5QxiiASlg.gif"></div></figure><h3 name="88ff" id="88ff" class="graf graf--h3 graf-after--figure">Creating a Shared CPU Allocation</h3><figure name="50f1" id="50f1" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 258px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 36.9%;"></div><img class="graf-image" data-image-id="1*u8WA2ZrfKCCxLlniIA6I0Q.gif" data-width="1078" data-height="398" src="https://cdn-images-1.medium.com/max/800/1*u8WA2ZrfKCCxLlniIA6I0Q.gif"></div></figure><figure name="5e24" id="5e24" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 153px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 21.8%;"></div><img class="graf-image" data-image-id="1*0mqBsAt-h6gLj48BIYibcQ.png" data-width="4660" data-height="1018" src="https://cdn-images-1.medium.com/max/800/1*0mqBsAt-h6gLj48BIYibcQ.png"></div></figure><h3 name="f962" id="f962" class="graf graf--h3 graf-after--figure">Synchronizing with MetalÂ Events</h3><figure name="931e" id="931e" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 316px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 45.2%;"></div><img class="graf-image" data-image-id="1*YAvvfgZvJMhABq9wRJ1MWQ.gif" data-width="1060" data-height="479" src="https://cdn-images-1.medium.com/max/800/1*YAvvfgZvJMhABq9wRJ1MWQ.gif"></div></figure><h3 name="b07b" id="b07b" class="graf graf--h3 graf-after--figure">Load Balancing ğŸ‘</h3><ul class="postList"><li name="11f7" id="11f7" class="graf graf--li graf-after--h3">GPUs can have different performance</li><li name="b409" id="b409" class="graf graf--li graf-after--li">Some regions are more complex to render</li><li name="e55b" id="e55b" class="graf graf--li graf-after--li">Adjust region sizes to keep GPUs fully utilized</li></ul><figure name="b29c" id="b29c" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 510px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 72.8%;"></div><img class="graf-image" data-image-id="1*D6_i6DNK386fEZi3FFZcyg.png" data-width="1736" data-height="1264" src="https://cdn-images-1.medium.com/max/800/1*D6_i6DNK386fEZi3FFZcyg.png"></div></figure><figure name="c0b7" id="c0b7" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 600px; max-height: 337px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.2%;"></div><img class="graf-image" data-image-id="1*qqihUPwhiVyPm-8CbmBaLQ.gif" data-width="600" data-height="337" src="https://cdn-images-1.medium.com/max/800/1*qqihUPwhiVyPm-8CbmBaLQ.gif"></div></figure><figure name="9f48" id="9f48" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 600px; max-height: 337px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.2%;"></div><img class="graf-image" data-image-id="1*dM4VF_qFSnb13eef7Jmw-A.gif" data-width="600" data-height="337" src="https://cdn-images-1.medium.com/max/800/1*dM4VF_qFSnb13eef7Jmw-A.gif"></div></figure><h3 name="3815" id="3815" class="graf graf--h3 graf-after--figure">Timing GPUÂ Work</h3><figure name="431c" id="431c" class="graf graf--figure graf-after--h3 graf--trailing"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 275px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 39.300000000000004%;"></div><img class="graf-image" data-image-id="1*3jEG2eBdT1KNAZtqm9AQ6w.png" data-width="4850" data-height="1906" src="https://cdn-images-1.medium.com/max/800/1*3jEG2eBdT1KNAZtqm9AQ6w.png"></div></figure></div></div></section>
</section>